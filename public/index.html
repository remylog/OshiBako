<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>YouTube Dashboard</title>
  <style>
    /* â˜…é‡è¦: å…¨è¦ç´ ã®ã¯ã¿å‡ºã—ã‚’é˜²æ­¢ã™ã‚‹è¨­å®š */
    * { box-sizing: border-box; }

    /* ãƒ™ãƒ¼ã‚¹è¨­å®š */
    body { margin: 0; padding: 0; font-family: "Helvetica Neue", Arial, sans-serif; background-color: #f1f1f1; display: flex; height: 100vh; height: 100dvh; overflow: hidden; }
    
    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ (PC) */
    #sidebar { width: 250px; background-color: #fff; border-right: 1px solid #ddd; padding: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 10; flex-shrink: 0; }
    h1 { font-size: 20px; color: #cc0000; margin-top: 0; margin-bottom: 0; display: flex; align-items: center; gap: 10px; white-space: nowrap; }
    
    #group-buttons { flex: 1; overflow-y: auto; }
    .group-btn { display: block; width: 100%; padding: 12px; margin-bottom: 8px; border: none; background: none; text-align: left; font-size: 14px; cursor: pointer; border-radius: 8px; color: #333; }
    .group-btn:hover { background-color: #f5f5f5; }
    .group-btn.active { background-color: #ffe6e6; color: #cc0000; font-weight: bold; }

    /* ãƒœã‚¿ãƒ³é¡ */
    .action-btn { 
      width: 100%; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold; border: none; 
      display: flex; align-items: center; justify-content: center; gap: 8px; 
      text-decoration: none; font-size: 13px; color: #333; background: #eee;
      margin-top: 10px; /* PCç‰ˆã§ã®ãƒãƒ¼ã‚¸ãƒ³ */
    }
    #refreshBtn { background-color: #cc0000; color: white; }
    #refreshBtn:hover { background-color: #ff0000; }
    #settingsLink:hover { background-color: #ddd; }
    
    /* PCç‰ˆã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ */
    .pc-limit-select { width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-bottom: 10px; }
    /* ã‚¹ãƒãƒ›ç‰ˆã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ï¼ˆPCã§ã¯éè¡¨ç¤ºï¼‰ */
    .mobile-limit-select-container { display: none; }


    /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
    #main { flex: 1; padding: 30px; overflow-y: auto; position: relative; }
    #status { margin-bottom: 20px; color: #666; font-size: 14px; }
    .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
    
    /* å‹•ç”»ã‚«ãƒ¼ãƒ‰ */
    .video-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: transform 0.2s; display: flex; flex-direction: column; }
    .video-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .video-card.watched { opacity: 0.6; background-color: #f9f9f9; }
    .thumb-link { display: block; position: relative; padding-top: 56.25%; }
    .thumb-link img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
    .card-content { padding: 12px; flex: 1; display: flex; flex-direction: column; }
    .video-title { font-size: 15px; font-weight: bold; margin: 0 0 8px; line-height: 1.4; color: #0f0f0f; text-decoration: none; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}
    .video-meta { font-size: 12px; color: #606060; margin-top: auto; display: flex; justify-content: space-between; }
    .group-badge { background: #eee; padding: 2px 6px; border-radius: 4px; font-size: 11px; }

    .mark-watched-btn { background: #fff; border: 1px solid #ddd; color: #666; border-radius: 4px; cursor: pointer; padding: 4px 8px; font-size: 11px; margin-top: 5px; transition: all 0.2s; }
    .mark-watched-btn:hover { background: #eee; border-color: #ccc; }
    .watched .mark-watched-btn { background: #666; color: #fff; border-color: #666; }

    /* â–¼â–¼â–¼ ã‚¹ãƒãƒ›ç”¨ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­å®š (768pxä»¥ä¸‹) â–¼â–¼â–¼ */
    @media (max-width: 768px) {
      body { flex-direction: column; height: 100dvh; }
      
      /* ãƒ˜ãƒƒãƒ€ãƒ¼å›ºå®šã‚¨ãƒªã‚¢ */
      #sidebar { 
        width: 100%; 
        height: auto; 
        padding: 10px 15px; 
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        gap: 10px;
        flex-shrink: 0;
        border-right: none;
        border-bottom: 1px solid #eee;
      }
      
      h1 { font-size: 18px; }

      /* ã‚°ãƒ«ãƒ¼ãƒ—ãƒœã‚¿ãƒ³ï¼ˆæ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ */
      #group-buttons { 
        display: flex; 
        overflow-x: auto; 
        white-space: nowrap; 
        padding-bottom: 0; 
        margin-bottom: 0;
        flex: none; 
        gap: 8px;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      }
      #group-buttons::-webkit-scrollbar { display: none; }

      .group-btn { 
        display: inline-block; 
        width: auto; 
        padding: 6px 14px; 
        margin-bottom: 0; 
        background: #f0f0f0;
        border-radius: 20px;
        font-size: 12px;
        border: 1px solid #eee;
      }
      .group-btn.active { background-color: #cc0000; color: white; border-color: #cc0000; }

      /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
      #main { padding: 15px; background: #f1f1f1; }
      
      .video-grid { grid-template-columns: 1fr; gap: 15px; padding-bottom: 40px; }
      
      /* æ“ä½œãƒœã‚¿ãƒ³èª¿æ•´ */
      .action-btn { font-size: 12px; padding: 8px; margin-top: 0; /* ã‚¹ãƒãƒ›ã§ã¯ãƒãƒ¼ã‚¸ãƒ³ä¸è¦ */ }

      /* PCç”¨ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹éè¡¨ç¤º */
      .pc-limit-select { display: none; }
      /* ã‚¹ãƒãƒ›ç”¨ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚³ãƒ³ãƒ†ãƒŠè¡¨ç¤º */
      .mobile-limit-select-container { display: flex; gap: 8px; align-items: center; }
    }
  </style>
</head>
<body>

  <div id="sidebar">
    <div style="display:flex; justify-content:space-between; align-items:center; width:100%;">
      <h1>ğŸ“º Dashboard</h1>
      
      <div class="mobile-limit-select-container">
        <select class="mobile-limit-select" onchange="document.getElementById('limitSelect').value = this.value; document.getElementById('limitSelect').dispatchEvent(new Event('change'));" style="padding:6px; border-radius:4px; border:1px solid #ddd; font-size:12px; background:white;">
          <option value="25">25ä»¶</option>
          <option value="50">50ä»¶</option>
          <option value="100">100ä»¶</option>
          <option value="9999">å…¨</option>
        </select>
        <a href="/settings.html" class="action-btn" style="padding:6px 10px; min-width:35px;">âš™ï¸</a>
      </div>
    </div>

    <select id="limitSelect" class="pc-limit-select">
      <option value="25">æœ€æ–° 25ä»¶</option>
      <option value="50">æœ€æ–° 50ä»¶</option>
      <option value="100">æœ€æ–° 100ä»¶</option>
      <option value="9999">ã™ã¹ã¦</option>
    </select>

    <div id="group-buttons">
      </div>
    
    <div class="pc-action-buttons">
      <button id="refreshBtn" class="action-btn" style="width:100%;">ğŸ”„ æœ€æ–°æƒ…å ±ã‚’å–å¾—</button>
      <a href="/settings.html" id="settingsLink" class="action-btn" style="width:100%;">âš™ï¸ è¨­å®š</a>
    </div>
  </div>

  <div id="main">
    <div id="status" style="font-size:12px; text-align:right;">æº–å‚™å®Œäº†</div>
    <div id="videoGrid" class="video-grid"></div>
  </div>

  <script src="dashboard.js"></script>
  <script>
    // ã‚¹ãƒãƒ›ã¨PCã®ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’åŒæœŸã•ã›ã‚‹ç°¡æ˜“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    const limitSelect = document.getElementById('limitSelect');
    const mobileSelect = document.querySelector('.mobile-limit-select');
    if(limitSelect && mobileSelect) {
        mobileSelect.value = limitSelect.value;
        limitSelect.addEventListener('change', () => { mobileSelect.value = limitSelect.value; });
    }
    // ã‚¹ãƒãƒ›ã§ã¯PCç”¨ã®ä¸‹éƒ¨ãƒœã‚¿ãƒ³ã‚’éš ã™
    if(window.innerWidth <= 768) {
        document.querySelector('.pc-action-buttons').style.display = 'none';
    }
    window.addEventListener('resize', () => {
        document.querySelector('.pc-action-buttons').style.display = window.innerWidth <= 768 ? 'none' : 'block';
    });
  </script>
</body>
</html>