<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>設定 - YouTube Dashboard</title>
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="settings-container">
        <header>
            <a href="/" class="back-btn">← ダッシュボードへ戻る</a>
            <h1>⚙️ 設定</h1>
        </header>

        <section id="api-settings" class="setting-section">
            <h2>API設定</h2>
            <p>サーバー側の環境変数で設定されます。</p>
            <div id="apiStatus">APIキーの状態: 取得中...</div>
        </section>

        <section id="channel-management" class="setting-section">
            <h2>1. チャンネル登録・削除</h2>

            <div class="input-group">
                <input type="text" id="channelIdInput" placeholder="チャンネルIDまたはURLを入力">
                <button id="addChannelBtn">チャンネル追加</button>
            </div>

            <div id="channelListWrapper">
                <ul id="channelList">
                </ul>
            </div>
            <div id="channelStatus" class="status-message"></div>
        </section>

        <section id="group-management" class="setting-section">
            <h2>2. カテゴリ（グループ）追加・削除</h2>
            <p>動画に付与するカテゴリ名を作成・管理します。</p>

            <div class="input-group">
                <input type="text" id="groupNameInput" placeholder="新しいカテゴリ名（例: ゲーム、音楽）">
                <button id="addGroupBtn">カテゴリ追加</button>
            </div>

            <div id="groupListWrapper">
                <ul id="groupList">
                </ul>
            </div>
            <div id="groupStatus" class="status-message"></div>
        </section>

        <section id="association-management" class="setting-section">
            <h2>3. チャンネルとカテゴリの紐付け管理</h2>
            <p>登録チャンネルごとに、該当するカテゴリを複数選択して紐付けます。</p>

            <div id="associationManager">
                <div id="channelAssociationList"></div>
            </div>
            <div id="associationStatus" class="status-message"></div>
        </section>

        <section id="data-management" class="setting-section">
            <h2>データ管理</h2>
            <p>データベースに保存されている動画データに対する操作です。</p>

            <div class="data-actions">
                <button id="clearCacheBtn" class="danger-btn">動画キャッシュをクリア</button>
                <button id="resetAllBtn" class="danger-btn">全ての設定とデータをリセット</button>
            </div>

            <div class="import-area">
                <p>履歴データ(watch-history.json)をインポート</p>
                <input type="file" id="historyFile" accept=".json" style="width:100%;">
                <button id="importHistoryBtn">インポート開始</button>
                <div id="importStatus" class="status-message"></div>
            </div>
        </section>

        <footer>
            <p>&copy; YouTube Dashboard</p>
        </footer>
    </div>

    <script src="settings.js"></script>
</body>

</html>